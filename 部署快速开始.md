# 🚀 部署快速开始

## 一键部署（推荐）

运行快速部署脚本：

```powershell
.\快速部署.ps1
```

脚本会自动完成：
1. ✅ 打包项目
2. ✅ 拉取最新代码
3. ✅ 提交更改
4. ✅ 推送到 GitHub
5. ✅ 创建版本标签
6. ✅ 生成调用网址

---

## 手动部署

### 步骤 1：打包项目

```powershell
pnpm build
```

### 步骤 2：拉取最新代码

```powershell
git pull origin main
```

### 步骤 3：提交并推送

```powershell
git add .
git commit -m "feat: 更新赛博坐牢模拟器增强脚本"
git push origin main
```

### 步骤 4：创建版本标签

```powershell
git tag -a v1.0.0 -m "版本 1.0.0：完整系统"
git push origin v1.0.0
```

---

## 📋 调用网址（复制使用）

### 主脚本（用于 SillyTavern 脚本导入）

```javascript
import 'https://cdn.jsdelivr.net/gh/onlinedone/Cyber_prisoner_simulator@v1.0.0/dist/赛博坐牢模拟器增强脚本/脚本/detention-system.js';
```

### 状态栏界面（用于前端界面）

```html
<script>
  $('body').load('https://cdn.jsdelivr.net/gh/onlinedone/Cyber_prisoner_simulator@v1.0.0/dist/赛博坐牢模拟器增强脚本/界面/状态栏/index.html');
</script>
```

**注意**：
- 将 `v1.0.0` 替换为你实际创建的版本标签
- 文件名是 `detention-system.js`，不是 `index.js`

---

## 🔍 重要说明

1. **文件路径**：打包后的文件在 `dist/赛博坐牢模拟器增强脚本/脚本/detention-system.js`
2. **文件名**：输出文件名是 `detention-system.js`（根据 webpack 配置）
3. **版本标签**：必须创建版本标签才能使用 jsdelivr CDN
4. **云服务器**：脚本通过 CDN 加载，**不需要配置云服务器地址**

---

## 📚 详细文档

- **完整部署指南**：查看 `GitHub部署指南.md`
- **上传指南**：查看 `GitHub上传指南.md`
- **云服务器说明**：查看 `导入到酒馆/云服务器部署说明.md`

---

## ✅ 验证部署

### 1. 检查 GitHub 仓库

访问：<https://github.com/onlinedone/Cyber_prisoner_simulator>

确认文件存在：
- `dist/赛博坐牢模拟器增强脚本/脚本/detention-system.js`

### 2. 测试 jsdelivr 链接

在浏览器中访问：
```
https://cdn.jsdelivr.net/gh/onlinedone/Cyber_prisoner_simulator@v1.0.0/dist/赛博坐牢模拟器增强脚本/脚本/detention-system.js
```

应该能看到 JavaScript 代码。

### 3. 在 SillyTavern 中测试

1. 导入脚本（使用上面的调用网址）
2. 打开浏览器控制台（F12）
3. 查看是否有加载日志

---

## 🆘 常见问题

### Q: jsdelivr 链接 404？

**A**: 检查：
- 版本标签是否已创建并推送
- 文件路径是否正确（注意是 `detention-system.js`）
- 仓库是否为公开（Public）

### Q: 文件名是 detention-system.js 而不是 index.js？

**A**: 这是正常的！根据 webpack 配置，输出文件名是 `detention-system.js`。

### Q: 脚本无法加载？

**A**: 检查：
- 浏览器能否访问 GitHub
- 浏览器能否访问 jsdelivr CDN
- 版本标签是否正确

---

## 📞 需要帮助？

查看详细文档或检查浏览器控制台错误信息。
